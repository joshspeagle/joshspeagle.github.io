/* Theme Variables CSS - Dark/Light Mode Support */

:root {
    /* === COLOR DEFINITIONS === */

    /* Dark Theme Colors (Default) */
    --color-mode: 'dark';

    /* Background Colors */
    --bg-primary-1: #0a0a2c;
    --bg-primary-2: #1a1a3a;
    --bg-primary-3: #0d1421;
    --bg-primary-4: #1a0a2c;
    --bg-nav: rgba(13, 20, 33, 0.9);
    --bg-nav-solid: #0d1421;
    --bg-section: rgba(255, 255, 255, 0.02);
    --bg-section-hover: rgba(255, 255, 255, 0.03);
    --bg-highlight: rgba(255, 255, 255, 0.05);
    --bg-highlight-box: linear-gradient(135deg, rgba(100, 181, 246, 0.1), rgba(129, 199, 132, 0.1));
    --bg-contact: rgba(129, 199, 132, 0.1);
    --bg-leave-notice: rgba(255, 193, 7, 0.05);

    /* Text Colors */
    --text-primary: #e8e9ea;
    --text-secondary: rgba(232, 233, 234, 0.9);
    --text-muted: rgba(232, 233, 234, 0.7);
    --text-white: #ffffff;

    /* Accent Colors - These remain vibrant in both themes */
    --accent-blue: #64b5f6;
    --accent-green: #81c784;
    --accent-orange: #ffb74d;
    --accent-red: #DC143C;
    --accent-yellow: #FFD700;
    --accent-yellow-border: rgba(255, 193, 7, 0.3);

    /* Brand Colors */
    --brand-arxiv: #b31b1b;
    --brand-scholar: #4285f4;
    --brand-orcid: #A6CE39;

    /* Border & Shadow Colors */
    --border-primary: rgba(255, 255, 255, 0.1);
    --border-accent: rgba(100, 181, 246, 0.2);
    --border-accent-hover: rgba(100, 181, 246, 0.3);
    --border-green: rgba(129, 199, 132, 0.3);
    --shadow-dark: rgba(0, 0, 0, 0.3);
    --shadow-light: rgba(0, 0, 0, 0.1);
    --shadow-accent: rgba(100, 181, 246, 0.2);

    /* Special Effects */
    --glow-blue: rgba(100, 181, 246, 0.8);
    --glow-green: rgba(129, 199, 132, 0.6);
    --circuit-trace: rgba(100, 181, 246, 0.05);
    --circuit-opacity: 0.03;
    --circuit-border-opacity: 0.1;

    /* Header Gradient Colors */
    --header-gradient-1: #1e3a5f;
    --header-gradient-2: #4a0e4e;
    --header-gradient-3: #1a237e;

    /* Gradient Text */
    --gradient-text: linear-gradient(45deg, #ffffff, #64b5f6, #81c784);
    --gradient-title: linear-gradient(45deg, #64b5f6, #81c784, #ffb74d);

    /* Publication Cards */
    --pub-card-bg: rgba(255, 255, 255, 0.03);
    --pub-card-gradient: linear-gradient(135deg, transparent, rgba(100, 181, 246, 0.1));

    /* Timeline */
    --timeline-gradient: linear-gradient(180deg, #64b5f6, #81c784, #ffb74d);
    --timeline-bg: rgba(255, 255, 255, 0.03);
    --timeline-bg-current: rgba(255, 183, 77, 0.05);
    --timeline-border-current: rgba(255, 183, 77, 0.3);

    /* Toggle Button Position */
    --toggle-button-bg: var(--bg-nav);
    --toggle-button-border: var(--border-accent);
    --toggle-icon-color: var(--accent-orange);
}

/* Light Theme Override */
[data-theme="light"] {
    --color-mode: 'light';

    /* Background Colors - Enhanced contrast for better readability */
    --bg-primary-1: #f8fafc;
    --bg-primary-2: #e2e8f0;
    --bg-primary-3: #f1f5f9;
    --bg-primary-4: #f0f4f8;
    --bg-nav: rgba(255, 255, 255, 0.98);
    --bg-nav-solid: #ffffff;
    --bg-section: rgba(0, 0, 0, 0.03);
    --bg-section-hover: rgba(0, 0, 0, 0.05);
    --bg-highlight: rgba(0, 0, 0, 0.06);
    --bg-highlight-box: linear-gradient(135deg, rgba(33, 150, 243, 0.12), rgba(76, 175, 80, 0.12));
    --bg-contact: rgba(76, 175, 80, 0.12);
    --bg-leave-notice: rgba(255, 152, 0, 0.12);

    /* Text Colors - Enhanced contrast for accessibility */
    --text-primary: #1a202c;
    --text-secondary: rgba(26, 32, 44, 0.9);
    --text-muted: rgba(26, 32, 44, 0.7);
    --text-white: #1a202c;
    /* Maps to primary text in light mode */

    /* Accent Colors - Adjusted for light mode contrast */
    --accent-blue: #1976D2;
    --accent-green: #388E3C;
    --accent-orange: #F57C00;
    --accent-red: #C62828;
    --accent-yellow: #FFA000;
    --accent-yellow-border: rgba(255, 152, 0, 0.4);

    /* Brand Colors - Keep original for recognition */
    --brand-arxiv: #b31b1b;
    --brand-scholar: #4285f4;
    --brand-orcid: #A6CE39;

    /* Border & Shadow Colors - Adjusted */
    --border-primary: rgba(0, 0, 0, 0.1);
    --border-accent: rgba(25, 118, 210, 0.3);
    --border-accent-hover: rgba(25, 118, 210, 0.4);
    --border-green: rgba(56, 142, 60, 0.3);
    --shadow-dark: rgba(0, 0, 0, 0.1);
    --shadow-light: rgba(0, 0, 0, 0.05);
    --shadow-accent: rgba(25, 118, 210, 0.15);

    /* Special Effects - Adjusted */
    --glow-blue: rgba(25, 118, 210, 0.6);
    --glow-green: rgba(56, 142, 60, 0.5);
    --circuit-trace: rgba(25, 118, 210, 0.06);
    --circuit-opacity: 0.04;
    --circuit-border-opacity: 0.15;

    /* Header Gradient Colors - More vibrant and impactful */
    --header-gradient-1: #4a90e2;
    --header-gradient-2: #8e44ad;
    --header-gradient-3: #3498db;

    /* Gradient Text - Better contrast for light mode */
    --gradient-text: linear-gradient(45deg, #1565C0, #2E7D32, #E65100);
    --gradient-title: linear-gradient(45deg, #1565C0, #2E7D32, #E65100);

    /* Publication Cards */
    --pub-card-bg: rgba(0, 0, 0, 0.02);
    --pub-card-gradient: linear-gradient(135deg, transparent, rgba(25, 118, 210, 0.08));

    /* Timeline */
    --timeline-gradient: linear-gradient(180deg, #1976D2, #388E3C, #F57C00);
    --timeline-bg: rgba(0, 0, 0, 0.02);
    --timeline-bg-current: rgba(245, 124, 0, 0.08);
    --timeline-border-current: rgba(245, 124, 0, 0.4);

    /* Toggle Button */
    --toggle-button-bg: var(--bg-nav);
    --toggle-button-border: var(--border-accent);
    --toggle-icon-color: var(--accent-blue);
}

/* === UTILITY CLASSES === */

/* Smooth transitions for theme switching - respect motion preferences */
* {
    transition: background-color 0.3s ease,
        color 0.3s ease,
        border-color 0.3s ease,
        box-shadow 0.3s ease;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    /* Remove parallax effects */
    .header {
        transform: none !important;
    }
}

/* Prevent transition on page load */
.no-transition * {
    transition: none !important;
}

/* === THEME-AWARE IMAGES === */

/* Hide/show images based on theme */
.dark-only {
    display: block;
}

.light-only {
    display: none;
}

[data-theme="light"] .dark-only {
    display: none;
}

[data-theme="light"] .light-only {
    display: block;
}

/* Invert filter for logos/icons in light mode */
[data-theme="light"] .theme-invert {
    filter: invert(0.85) hue-rotate(180deg) brightness(1.1);
}

/* Special filter for ART logo */
[data-theme="light"] .art-logo-img {
    filter: brightness(0) invert(0.2);
    opacity: 0.9;
}

/* Adjust opacity for better visibility in light mode */
[data-theme="light"] .theme-dim {
    opacity: 0.8;
}

/* === GRADIENT BACKGROUNDS === */

/* Main body gradient */
body {
    background: linear-gradient(135deg,
            var(--bg-primary-1) 0%,
            var(--bg-primary-2) 25%,
            var(--bg-primary-3) 50%,
            var(--bg-primary-4) 75%,
            var(--bg-primary-1) 100%);
}

/* === THEME TOGGLE BUTTON === */

.theme-toggle {
    position: fixed;
    top: 4.5rem;
    right: 1rem;
    z-index: 1000;
    background: var(--toggle-button-bg);
    border: 2px solid var(--toggle-button-border);
    border-radius: 50%;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.theme-toggle:hover {
    transform: scale(1.1);
    border-color: var(--accent-blue);
    box-shadow: 0 0 20px var(--shadow-accent);
}

.theme-toggle:active {
    transform: scale(0.95);
}

.theme-toggle svg {
    width: 1.5rem;
    height: 1.5rem;
    fill: var(--toggle-icon-color);
    stroke: var(--toggle-icon-color);
    stroke-width: 2;
    transition: all 0.3s ease;
}

/* Icon rotation animation */
.theme-toggle.switching svg {
    animation: rotateIcon 0.5s ease;
}

@keyframes rotateIcon {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Mobile positioning */
@media (max-width: 768px) {
    .theme-toggle {
        width: 2.5rem;
        height: 2.5rem;
        top: 3.5rem;
        right: 0.5rem;
    }

    .theme-toggle svg {
        width: 1.25rem;
        height: 1.25rem;
    }
}

/* === CIRCUIT PATTERN ADJUSTMENTS === */

[data-theme="light"] .circuit-bg {
    opacity: 0.06;
}

[data-theme="light"] .section::after {
    opacity: 0.08;
}

/* === LINK COLORS === */
a {
    color: var(--accent-blue);
}

a:hover {
    color: var(--accent-green);
}